/*!
 * vue-analytics v4.1.3
 * (c) 2017 Matteo Gabriele
 * Released under the MIT License.
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("load-script")):"function"==typeof define&&define.amd?define(["load-script"],n):e.VueAnalytics=n(e.loadScript)}(this,function(e){"use strict";function n(e){return e.replace(/-/gi,"")}function t(){return[].concat(j.id)}function o(e,o){var r=n(o);return t().length>1?r+"."+e:e}function r(e){return A(j,e)}function a(e){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];void 0!==window.ga&&t().forEach(function(n){var t;(t=window).ga.apply(t,[o(e,n)].concat(r))})}function i(e){var n=Object.keys(e).reduce(function(n,t,o,r){return n+=t+"="+e[t],o<r.length-1&&(n+="&"),n},"?");return"?"===n?"":n}function u(e,n){if(!e)return void T("Is not possible to track the current route without VueRouter installed");var t=e.currentRoute,o={page:t.path+i(t.query),title:t.name,location:window.location.href};return"function"==typeof n[1]&&(o.hitCallback=n[1]),o}function c(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=n[0];if("VueRouter"===o.constructor.name)return void a("send","pageview",u(o,n));a.apply(void 0,["send","pageview"].concat(n))}function l(){if(void 0!==window.ga){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];if(n.length)return"object"===k(n[0])&&n[0].constructor===Object?void a("set",n[0]):n.length<2||"string"!=typeof n[0]&&"string"!=typeof n[1]?void T("$ga.set needs a field name and a field value, or you can pass an object literal"):void a("set",n[0],n[1])}}function f(e,n){var t=n.currentRoute,o=e?e(n.currentRoute):n;x(t.name)||(l("page",t.path),c(o,n))}function d(e){if(j.autoTracking.page&&e){var n=j.autoTracking.pageviewTemplate;j.autoTracking.pageviewOnLoad&&f(n,e),e.afterEach(function(){setTimeout(function(){f(n,e)},0)})}}function s(e){a("send","exception",{exDescription:e,exFatal:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}function g(){j.autoTracking.exception&&(window.onerror=function(e){return s(e.message||e)})}function p(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];a.apply(void 0,["send","event"].concat(n))}function v(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];a.apply(void 0,["send","timing"].concat(n))}function y(){a.apply(void 0,arguments)}function h(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];a.apply(void 0,["send","social"].concat(n))}function w(e){a("require",e)}function b(o,r){if(!j.manual){if(!j.id||!j.id.length){return void T("Please enter a Google Analaytics tracking ID","https://github.com/MatteoGabriele/vue-analytics#usage")}var a=j.userId?{userId:j.userId}:{},i=j.debug.enabled?"_debug":"";e("https://www.google-analytics.com/analytics"+i+".js",function(e,i){if(e)return void T("Ops! Is not possible to load Google Analytics script");var u=setInterval(function(){if(window.ga){clearInterval(u),j.debug.enabled&&(window.ga_debug={trace:j.debug.trace});var e=t(),i=j.autoLink||[];e.forEach(function(t){e.length>1&&(a.name=n(t)),i.length>0&&(a.allowLinker=!0),window.ga("create",t,"auto",a),i.length>0&&(window.ga("require","linker"),window.ga("linker:autoLink",i))}),r&&"function"==typeof r&&r(),j.debug.sendHitTask||I.set("sendHitTask",null),I.autoTrackException(),I.autoTrackPage(o)}},10)})}}function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.router;delete n.router,r(n),b(t,n.onReady),e.prototype.$ga=e.$ga=I}e="default"in e?e.default:e;var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];console.warn("[VueAnalytics] "+n.join(" "))},x=function(e){return!(!j.ignoreRoutes.length||-1===j.ignoreRoutes.indexOf(e))},A=function e(n,t){return Object.keys(t).forEach(function(o){if(n[o]&&"object"===k(n[o]))return void e(n[o],t[o]);n[o]=t[o]}),n},j={debug:{enabled:!1,trace:!1,sendHitTask:!0},autoTracking:{exception:!1,page:!0,pageviewOnLoad:!0,pageviewTemplate:null},id:null,userId:null,ignoreRoutes:[]},I={autoTrackPage:d,autoTrackException:g,social:h,page:c,event:p,time:v,exception:s,set:l,query:y,require:w};return{install:m,generateMethodName:o}});